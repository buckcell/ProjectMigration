unit DAO;

interface

uses
  System.SysUtils, System.Variants, System.Classes, ConnectionFactory, FireDAC.Comp.Client, ViewDB;

type
  TStringArray = array of string;

  TDAO = class
  public
    function QueryTable: TFDQuery;
    function QuerySQL: TFDQuery;

    function GetFieldsNames: TStringArray;

  end;

implementation

{ TDAO }

function TDAO.QueryTable: TFDQuery;
begin
  Result := ConnFactory.QueryTable;
end;

function TDAO.QuerySQL: TFDQuery;
begin
  Result := ConnFactory.QuerySQL;
end;

function TDAO.GetFieldsNames: TStringArray;
var
  Cont: integer;
begin
  QueryTable.ParamByName('TABLE_NAME').AsString := WindowDB.TxtTable.Text;
  QueryTable.Open;
  SetLength(Result, QueryTable.RowsAffected);
  QueryTable.First;
  Cont := 0;
  while not QueryTable.Eof do
  begin
    Result[
  end;
end;


end.
